<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>Programming with Radiant</title>

<script src="libs/jquery-1.11.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.1/css/united.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.1/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.1/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.1/shim/respond.min.js"></script>

<style type="text/css">

/* padding for bootstrap navbar */
body {
  padding-top: 50px;
  padding-bottom: 40px;
}

/* offset scroll position for anchor links (for fixed navbar)  */
.section h2 {
  padding-top: 55px;
  margin-top: -55px;
}
.section h3 {
  padding-top: 55px;
  margin-top: -55px;
}

/* don't use link color in navbar */
.dropdown-menu>li>a {
	display: inline;
  color: black;
  padding-bottom: 0;
}

</style>

<link rel="stylesheet" href="libs/font-awesome-4.1.0/css/font-awesome.min.css"/>
<link rel="shortcut icon" type="image/png" href="/radiant/images/radiant_red.png"/>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="libs/highlight/textmate.css"
      type="text/css" />
<script src="libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img { 
  max-width:100%; 
  height: auto; 
}
</style>
<div class="container-fluid main-container">


<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://github.com/vnijs/radiant">Radiant</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="/radiant/index.html">Home</a></li>
        <li><a href="/radiant/news.html">News</a></li>
        <li class="dropdown">
          <a href="/radiant/base/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Data<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
             <li><a href="/radiant/base/manage.html">Manage</a></li>
             <li><a href="/radiant/base/view.html">View</a></li>
             <li><a href="/radiant/base/visualize.html">Visualize</a></li>
             <li><a href="/radiant/base/pivotr.html">Pivot</a></li>
             <li><a href="/radiant/base/explore.html">Explore</a></li>
             <li><a href="/radiant/base/transform.html">Transform</a></li>
             <li><a href="/radiant/base/combine.html">Combine</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="/radiant/quant/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Quantitative Analysis<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
             <li class="dropdown-header">Sample</li>
             <li><a href="/radiant/quant/sampling.html">Sampling</a></li>
             <li><a href="/radiant/quant/sample_size.html">Sample size</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Base</li>
             <li><a href="/radiant/quant/prob_calc.html">Probability calculator</a></li>
             <li><a href="/radiant/quant/clt.html">Central Limit Theorem</a></li>
             <li><a href="/radiant/quant/single_mean.html">Single mean</a></li>
             <li><a href="/radiant/quant/compare_means.html">Compare means</a></li>
             <li><a href="/radiant/quant/single_prop.html">Single proportion</a></li>
             <li><a href="/radiant/quant/compare_props.html">Compare proportions</a></li>
             <li><a href="/radiant/quant/cross_tabs.html">Cross-tabs</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Regression</li>
             <li><a href="/radiant/quant/correlation.html">Correlation</a></li>
             <li><a href="/radiant/quant/regression.html">Linear regression (OLS)</a></li>
             <li><a href="/radiant/quant/glm_reg.html">Logistic regression (GLM)</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Decide</li>
             <li><a href="/radiant/quant/dtree.html">Decision tree</a></li>
             <li><a href="/radiant/quant/simulater.html">Simulate</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="/radiant/marketing/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Marketing Research<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
             <li class="dropdown-header">Sample</li>
             <li><a href="/radiant/quant/sampling.html">Sampling</a></li>
             <li><a href="/radiant/quant/sample_size.html">Sample size</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Base</li>
             <li><a href="/radiant/quant/single_mean.html">Single mean</a></li>
             <li><a href="/radiant/quant/compare_means.html">Compare means</a></li>
             <li><a href="/radiant/quant/single_prop.html">Single proportion</a></li>
             <li><a href="/radiant/quant/compare_props.html">Compare proportion</a></li>
             <li><a href="/radiant/quant/cross_tabs.html">Cross-tabs</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Regression</li>
             <li><a href="/radiant/quant/correlation.html">Correlation</a></li>
             <li><a href="/radiant/quant/regression.html">Linear regression (OLS)</a></li>
             <li><a href="/radiant/quant/glm_reg.html">Logistic regression (GLM)</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Decide</li>
             <li><a href="/radiant/quant/dtree.html">Decision tree</a></li>
             <li><a href="/radiant/quant/simulater.html">Simulate</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Maps</li>
             <li><a href="/radiant/marketing/mds.html">(Dis)similarity</a></li>
             <li><a href="/radiant/marketing/pmap.html">Attributes</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Factor</li>
             <li><a href="/radiant/marketing/pre_factor.html">Pre-factor</a></li>
             <li><a href="/radiant/marketing/full_factor.html">Factor</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Cluster</li>
             <li><a href="/radiant/marketing/hier_clus.html">Hierarchical</a></li>
             <li><a href="/radiant/marketing/kmeans_clus.html">K-means</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Conjoint</li>
             <li><a href="/radiant/marketing/conjoint_profiles.html">Create profiles</a></li>
             <li><a href="/radiant/marketing/conjoint.html">Conjoint</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="/radiant/analytics/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Customer Analytics<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
             <li class="dropdown-header">Sample</li>
             <li><a href="/radiant/quant/sampling.html">Sampling</a></li>
             <li><a href="/radiant/quant/sample_size.html">Sample size</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Base</li>
             <li><a href="/radiant/quant/single_mean.html">Single mean</a></li>
             <li><a href="/radiant/quant/compare_means.html">Compare means</a></li>
             <li><a href="/radiant/quant/single_prop.html">Single proportion</a></li>
             <li><a href="/radiant/quant/compare_props.html">Compare proportion</a></li>
             <li><a href="/radiant/quant/cross_tabs.html">Cross-tabs</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Regression</li>
             <li><a href="/radiant/quant/correlation.html">Correlation</a></li>
             <li><a href="/radiant/quant/regression.html">Linear (OLS)</a></li>
             <li><a href="/radiant/quant/glm_reg.html">GLM</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Model</li>
             <li><a href="/radiant/analytics/ann.html">Neural Network (ANN)</a></li>
             <li><a href="/radiant/analytics/crs.html">Collaborative Filtering</a></li>
             <li><a href="/radiant/analytics/doe.html">Design of Experiments (DOE)</a></li>
             <li><a href="/radiant/analytics/performance.html">Model performance</a></li>
             <li class="divider"></li>
             <li class="dropdown-header">Cluster</li>
             <li><a href="/radiant/marketing/hier_clus.html">Hierarchical</a></li>
             <li><a href="/radiant/marketing/kmeans_clus.html">K-means</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="/radiant/R/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">R<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
             <li><a href="/radiant/base/report.html">Report</a></li>
             <li><a href="/radiant/base/code.html">Code</a></li>
             <li><a href="/radiant/programming.html">Programming</a></li>
             <li><a href="/radiant/resources.html">Resources</a></li>
          </ul>
        </li>
        <li><a href="/radiant/tutorials.html">Tutorials</a></li>
        <li><a href="/radiant/about.html">About</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">
<h1 class="title">Programming with Radiant</h1>
</div>


<p>Radiant’s goal is to provide access to the power of R for business analytics. Although Radiant’s web-interface can handle quite a few data and analysis tasks, at times you may prefer to write your own code. Radiant provides a bridge to programming in R(studio) by exporting the functions used for analysis. For example, you can run your analyses in Radiant and output the relevant function calls to an <a href="http://rmarkdown.rstudio.com/">Rmarkdown</a> document. Most pages in the app have an icon you can click (e.g., the book icon on the bottom left on the <code>Base &gt; Single mean</code> page) to start working on your report. Press the <code>Knit report</code> button on the <code>R &gt; Report</code> page to render the report to HTML. See <a href="/radiant/base/report.html">Report</a> page for details. The full function manual is available at <a href="http://vnijs.github.io/radiant/radiant.pdf" target="_blank">http://vnijs.github.io/radiant/radiant.pdf</a>.</p>
<p>You can also use Rstudio to render and edit Rmarkdown documents generated in Radiant. When you install and load Radiant it exports functions that can be called from R-code and/or an Rmarkdown document.</p>
<p>If you close Radiant by clicking the <i title='Power off' class='fa fa-power-off'></i> icon in the navigation bar and then click <code>Stop</code> after launching it from R(studio) you can paste the commands below into the command console to get the same output as in the browser interface.</p>
<pre class="r"><code>result &lt;- single_mean(&quot;diamonds&quot;, &quot;price&quot;)
summary(result)</code></pre>
<pre><code>Single mean test
Data      : diamonds 
Variable  : price 
Confidence: 0.95 
Null hyp. : the mean of price = 0 
Alt. hyp. : the mean of price is not equal to 0 

     mean       sd    n n_missing
 3907.186 3956.915 3000         0

     diff     se t.value p.value   df     2.5%    97.5%    
 3907.186 72.243  54.084  &lt; .001 2999 3765.535 4048.837 ***

Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<pre class="r"><code>plot(result)</code></pre>
<p><img src="programming_files/figure-html/unnamed-chunk-2-1.png" title="" alt="" width="672" /></p>
<p>You can also call functions for visualization (see below) and access help from the console using <code>?visualize</code></p>
<pre class="r"><code>visualize(dataset = &quot;diamonds&quot;, xvar = &quot;carat&quot;, yvar = &quot;price&quot;,
          type = &quot;scatter&quot;, facet_row = &quot;clarity&quot;, color = &quot;clarity&quot;)</code></pre>
<p><img src="programming_files/figure-html/unnamed-chunk-3-1.png" title="" alt="" width="672" /></p>
<p>As an example, you can render the <a href="https://vnijs.github.io/radiant/examples/single_mean.Rmd"><code>single_mean.Rmd</code></a> file into html (or pdf or word if you prefer) in Rstudio. Try the code in <a href="https://vnijs.github.io/radiant/examples/radiant_rcode.R"><code>radiant_rcode.R</code></a> for a more extensive example.</p>
<p>An older version of Radiant is available on <a href="http://cran.r-project.org/web/packages/radiant/index.html">CRAN</a>. To install the latest version with complete documentation for offline access, open R(studio) and copy-and-paste the commands below:</p>
<pre class="r"><code>install.packages(&quot;radiant&quot;, repos = &quot;http://vnijs.github.io/radiant_miniCRAN/&quot;)
library(radiant)</code></pre>
<p>This will load the library and the required packages. To see the index of functions currently available in the Radiant package using the <code>help(package = &quot;radiant&quot;)</code> command</p>
<p>Lets start by comparing the mean of a variable to a (population) value using the built-in <code>mtcars</code> dataset. This functionality is in the Radiant menu <code>Base &gt; Single mean</code>. The analysis is conducted in function <code>single_mean</code>. Calling the <code>summary</code> method on the result object will show tabular output. Calling <code>plot</code> on the same result will produce plots to help evaluate the hypothesis.</p>
<pre class="r"><code>result &lt;- single_mean(&quot;mtcars&quot;, &quot;mpg&quot;, comp_value = 20, alternative = &quot;greater&quot;)
summary(result)</code></pre>
<pre><code>Single mean test
Data      : mtcars 
Variable  : mpg 
Confidence: 0.95 
Null hyp. : the mean of mpg = 20 
Alt. hyp. : the mean of mpg is &gt; 20 

   mean    sd  n n_missing
 20.091 6.027 32         0

  diff    se t.value p.value df     5% 100%  
 0.091 1.065   0.085   0.466 31 18.284  Inf  

Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<pre class="r"><code>plot(result, plots = c(&quot;hist&quot;,&quot;simulate&quot;))</code></pre>
<p><img src="programming_files/figure-html/unnamed-chunk-4-1.png" title="" alt="" width="672" /></p>
<p>To compare the mean price of diamonds across different levels of clarity we can call the <code>compare_means</code> function:</p>
<pre class="r"><code>result &lt;- compare_means(&quot;diamonds&quot;, &quot;clarity&quot;, &quot;price&quot;)
summary(result)</code></pre>
<pre><code>Pairwise mean comparisons (t-test)
Data      : diamonds 
Variables : clarity, price 
Samples   : independent 
Confidence: 0.95 
Adjustment: None 

 clarity     mean   n       sd      se      ci
      I1 4194.775  40 2519.678 398.396 805.832
     SI2 5100.189 529 4406.982 191.608 376.407
     SI1 3998.577 721 3813.190 142.011 278.804
     VS2 3822.967 661 3917.484 152.372 299.193
     VS1 3789.181 442 3880.907 184.596 362.797
    VVS2 3337.820 284 3932.706 233.363 459.348
    VVS1 2608.460 224 3201.282 213.895 421.513
      IF 2411.697  99 3330.560 334.734 664.268

 Null hyp.     Alt. hyp.                diff     p.value    
 I1 = SI2      I1 not equal to SI2      -905.414 0.045   *  
 I1 = SI1      I1 not equal to SI1       196.198 0.645      
 I1 = VS2      I1 not equal to VS2       371.808 0.387      
 I1 = VS1      I1 not equal to VS1       405.594 0.36       
 I1 = VVS2     I1 not equal to VVS2      856.955 0.068   .  
 I1 = VVS1     I1 not equal to VVS1     1586.315 0.001   ***
 I1 = IF       I1 not equal to IF       1783.078 0.001   ***
 SI2 = SI1     SI2 not equal to SI1     1101.612 &lt; .001  ***
 SI2 = VS2     SI2 not equal to VS2     1277.222 &lt; .001  ***
 SI2 = VS1     SI2 not equal to VS1     1311.008 &lt; .001  ***
 SI2 = VVS2    SI2 not equal to VVS2    1762.369 &lt; .001  ***
 SI2 = VVS1    SI2 not equal to VVS1    2491.729 &lt; .001  ***
 SI2 = IF      SI2 not equal to IF      2688.492 &lt; .001  ***
 SI1 = VS2     SI1 not equal to VS2      175.610 0.399      
 SI1 = VS1     SI1 not equal to VS1      209.396 0.369      
 SI1 = VVS2    SI1 not equal to VVS2     660.757 0.016   *  
 SI1 = VVS1    SI1 not equal to VVS1    1390.117 &lt; .001  ***
 SI1 = IF      SI1 not equal to IF      1586.880 &lt; .001  ***
 VS2 = VS1     VS2 not equal to VS1       33.786 0.888      
 VS2 = VVS2    VS2 not equal to VVS2     485.147 0.082   .  
 VS2 = VVS1    VS2 not equal to VVS1    1214.507 &lt; .001  ***
 VS2 = IF      VS2 not equal to IF      1411.270 &lt; .001  ***
 VS1 = VVS2    VS1 not equal to VVS2     451.361 0.13       
 VS1 = VVS1    VS1 not equal to VVS1    1180.721 &lt; .001  ***
 VS1 = IF      VS1 not equal to IF      1377.484 &lt; .001  ***
 VVS2 = VVS1   VVS2 not equal to VVS1    729.360 0.022   *  
 VVS2 = IF     VVS2 not equal to IF      926.123 0.024   *  
 VVS1 = IF     VVS1 not equal to IF      196.763 0.621      

Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<pre class="r"><code>plot(result, plots = c(&quot;bar&quot;,&quot;density&quot;))</code></pre>
<p><img src="programming_files/figure-html/unnamed-chunk-5-1.png" title="" alt="" width="672" /></p>
<p>These datasets are available after loading the radiant library. We can also load data through Radiant’s web interface and then access the data from the console after closing the app. Start radiant using the command below and then click <code>examples &gt; Load examples</code> in the <code>Data &gt; Manage</code> tab. Then close the app using <code>Quit &gt; Quit</code>.</p>
<pre class="r"><code>## start radiant, load the example data, then Quit &gt; Quit
radiant()</code></pre>
<p>We can now use the <code>compare_means</code> function to evaluate salary data for professors of different ranks using:</p>
<pre class="r"><code>result &lt;- compare_means(&quot;salary&quot;, &quot;rank&quot;, &quot;salary&quot;)
summary(result)</code></pre>
<pre><code>Pairwise mean comparisons (t-test)
Data      : salary 
Variables : rank, salary 
Samples   : independent 
Confidence: 0.95 
Adjustment: None 

      rank      mean   n        sd       se       ci
  AsstProf  80775.99  67  8174.113  998.627 1993.823
 AssocProf  93876.44  64 13831.700 1728.962 3455.056
      Prof 126772.11 266 27718.675 1699.541 3346.322

 Null hyp.              Alt. hyp.                         diff      p.value    
 AsstProf = AssocProf   AsstProf not equal to AssocProf   -13100.45 &lt; .001  ***
 AsstProf = Prof        AsstProf not equal to Prof        -45996.12 &lt; .001  ***
 AssocProf = Prof       AssocProf not equal to Prof       -32895.67 &lt; .001  ***

Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<pre class="r"><code>plot(result)</code></pre>
<p><img src="programming_files/figure-html/unnamed-chunk-6-1.png" title="" alt="" width="672" /></p>
<p>An alternative way to write this code is to use <code>piping</code> (see <a href="http://cran.rstudio.com/web/packages/dplyr/vignettes/introduction.html">dplyr</a> and <a href="http://cran.r-project.org/web/packages/magrittr/vignettes/magrittr.html">magrittr</a> vignettes):</p>
<pre class="r"><code>salary %&gt;% compare_means(&quot;rank&quot;, &quot;salary&quot;) %&gt;%
  {summary(.); plot(.)}</code></pre>
<p><img src="programming_files/figure-html/unnamed-chunk-7-1.png" title="" alt="" width="672" /></p>
<pre><code>Pairwise mean comparisons (t-test)
Data      : ----- 
Variables : rank, salary 
Samples   : independent 
Confidence: 0.95 
Adjustment: None 

      rank      mean   n        sd       se       ci
  AsstProf  80775.99  67  8174.113  998.627 1993.823
 AssocProf  93876.44  64 13831.700 1728.962 3455.056
      Prof 126772.11 266 27718.675 1699.541 3346.322

 Null hyp.              Alt. hyp.                         diff      p.value    
 AsstProf = AssocProf   AsstProf not equal to AssocProf   -13100.45 &lt; .001  ***
 AsstProf = Prof        AsstProf not equal to Prof        -45996.12 &lt; .001  ***
 AssocProf = Prof       AssocProf not equal to Prof       -32895.67 &lt; .001  ***

Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>We can also run regressions and get output that would require writting many lines of code to produce from scratch:</p>
<pre class="r"><code>result &lt;- regression(&quot;diamonds&quot;, &quot;price&quot;, c(&quot;carat&quot;,&quot;clarity&quot;))
summary(result, sum_check = &quot;confint&quot;)</code></pre>
<pre><code>Linear regression (OLS)
Data     : diamonds 
Response variable    : price 
Explanatory variables: carat, clarity 
Null hyp.: the effect of x on price is zero
Alt. hyp.: the effect of x on price is not zero

              coefficient std.error t.value p.value    
 (Intercept)    -6780.993   204.952 -33.086  &lt; .001 ***
 carat           8438.030    51.101 165.125  &lt; .001 ***
 clarity|SI2     2790.760   201.395  13.857  &lt; .001 ***
 clarity|SI1     3608.531   200.508  17.997  &lt; .001 ***
 clarity|VS2     4249.906   201.607  21.080  &lt; .001 ***
 clarity|VS1     4461.956   204.592  21.809  &lt; .001 ***
 clarity|VVS2    5109.476   210.207  24.307  &lt; .001 ***
 clarity|VVS1    5027.669   214.251  23.466  &lt; .001 ***
 clarity|IF      5265.170   233.658  22.534  &lt; .001 ***

Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

R-squared: 0.904,  Adjusted R-squared: 0.904 
F-statistic: 3530.024 df(8,2991), p.value &lt; .001
Nr obs: 3,000 

             coefficient      2.5%     97.5%     +/-
(Intercept)    -6780.993 -7182.855 -6379.131 401.862
carat           8438.030  8337.834  8538.227 100.196
clarity|SI2     2790.760  2395.873  3185.646 394.886
clarity|SI1     3608.531  3215.384  4001.679 393.148
clarity|VS2     4249.906  3854.604  4645.208 395.302
clarity|VS1     4461.956  4060.801  4863.111 401.155
clarity|VVS2    5109.476  4697.311  5521.640 412.165
clarity|VVS1    5027.669  4607.574  5447.764 420.095
clarity|IF      5265.170  4807.024  5723.317 458.147</code></pre>
<pre class="r"><code>predict(result, pred_cmd = &quot;carat = 1:10&quot;)</code></pre>
<pre><code>Linear regression (OLS)
Data       : diamonds 
Response variable    : price 
Explanatory variables: carat, clarity 

Predicted values for:
 clarity carat Prediction      2.5%     97.5%      +/-
     SI1     1   5265.569  2859.633  7671.505 2405.936
     SI1     2  13703.599 11294.952 16112.246 2408.647
     SI1     3  22141.629 19726.114 24557.145 2415.515
     SI1     4  30579.660 28153.155 33006.165 2426.505
     SI1     5  39017.690 36576.130 41459.250 2441.560
     SI1     6  47455.720 44995.114 49916.327 2460.607
     SI1     7  55893.751 53410.198 58377.303 2483.552
     SI1     8  64331.781 61821.491 66842.072 2510.291
     SI1     9  72769.811 70229.110 75310.513 2540.701
     SI1    10  81207.842 78633.187 83782.496 2574.655</code></pre>
<pre><code>   clarity carat Prediction      2.5%     97.5%      +/-
1      SI1     1   5265.569  2859.633  7671.505 2405.936
2      SI1     2  13703.599 11294.952 16112.246 2408.647
3      SI1     3  22141.629 19726.114 24557.145 2415.515
4      SI1     4  30579.660 28153.155 33006.165 2426.505
5      SI1     5  39017.690 36576.130 41459.250 2441.560
6      SI1     6  47455.720 44995.114 49916.327 2460.607
7      SI1     7  55893.751 53410.198 58377.303 2483.552
8      SI1     8  64331.781 61821.491 66842.072 2510.291
9      SI1     9  72769.811 70229.110 75310.513 2540.701
10     SI1    10  81207.842 78633.187 83782.496 2574.655</code></pre>
<pre class="r"><code>plot(result, plots = &quot;coef&quot;)</code></pre>
<p><img src="programming_files/figure-html/unnamed-chunk-8-1.png" title="" alt="" width="672" /></p>
<pre class="r"><code>plot(result, plots = &quot;dashboard&quot;)</code></pre>
<p><img src="programming_files/figure-html/unnamed-chunk-9-1.png" title="" alt="" width="672" /></p>
<p>As another example, imagine that you want to segment a sample of respondents based on their toothpaste attitudes. Below is the required code to produce results using functions from the Radiant package. For help on the commands and options for cluster analysis use <code>?hier_clus</code>, <code>?plot.hier_clus</code>, and <code>?kmeans_clus</code>. See also the <a href="http://vnijs.github.io/radiant/radiant.pdf" target="_blank">radiant function manual</a>.</p>
<pre class="r"><code>## set working directory to your Desktop
# setwd(&quot;~/Desktop&quot;) # or setwd(&quot;~/Documents/Desktop&quot;)

## load the radiant library (not needed if run in Radiant&#39;s R &gt; Code tab)
library(radiant)

## load the data directly from a url
shopping &lt;- loadrda_url(&quot;https://github.com/vnijs/radiant/blob/master/inst/marketing/data/shopping.rda?raw=true&quot;)

## to download the data and load it use the commands below
## if the file is not found make sure your working directory is set to the Desktop
# browseURL(&quot;https://github.com/vnijs/radiant/blob/master/inst/marketing/data/shopping.rda?raw=true&quot;)
# load(&quot;~/Desktop/shopping.rda&quot;) # or load(&quot;~/Documents/Desktop/shopping.rda&quot;)

## start with hierarchical clustering, view help
## run hierarchical cluster analysis on the shopping data, variables v1 through v6
result &lt;- hier_clus(&quot;shopping&quot;, &quot;v1:v6&quot;)

## summary - not much here - plots are more important
summary(result)</code></pre>
<pre><code>Hierarchical cluster analysis
Data        : shopping 
Variables   : v1:v6 
Method      : ward.D 
Distance    : sq.euclidian 
Observations: 20 </code></pre>
<pre class="r"><code>## check the help file on how to plot results from hierarchical cluster analysis
## default plots - looks like there is a big jump in the overall within-cluster
## heterogeneity in the step from 3 to 2 segments
plot(result)</code></pre>
<p><img src="programming_files/figure-html/unnamed-chunk-10-1.png" title="" alt="" width="672" /></p>
<pre class="r"><code>## show the dendrogram with cutoff at 0.1
plot(result, plots = &quot;dendro&quot;, cutoff = 0.1)</code></pre>
<p><img src="programming_files/figure-html/unnamed-chunk-11-1.png" title="" alt="" width="672" /></p>
<pre class="r"><code>## plots created above suggest 3 clusters may be  most appropriate
## use kmeans to create the clusters
## generate output and save clustermembership to the datafile
result &lt;- kmeans_clus(&quot;shopping&quot;, vars = &quot;v1:v6&quot;, nr_clus = 3)
summary(result)</code></pre>
<pre><code>K-means cluster analysis
Data        : shopping 
Variables   : v1:v6 
Method      : ward.D 
Distance    : sq.euclidian 
Observations: 20 
Generated   : 3 clusters of sizes 8, 6, 6 

Cluster means:
             v1    v2    v3    v4    v5    v6
Cluster 1 5.750 3.625 6.000 3.125 1.875 3.875
Cluster 2 1.667 3.000 1.833 3.500 5.500 3.333
Cluster 3 3.500 5.833 3.333 6.000 3.500 6.000

Percentage of within cluster variance accounted for by each cluster:
                
Cluster 1 40.31%
Cluster 2 25.98%
Cluster 3 33.71%

Between cluster variance accounts for 73.93% of the
total variance in the data (higher is better).</code></pre>
<pre class="r"><code>plot(result)</code></pre>
<p><img src="programming_files/figure-html/unnamed-chunk-12-1.png" title="" alt="" width="672" /></p>
<pre class="r"><code>save_membership(result)

## was the data really changed?
getdata(&quot;shopping&quot;) %&gt;% head</code></pre>
<pre><code>  id v1 v2 v3 v4 v5 v6 kclus3
1  1  6  4  7  3  2  3      1
2  2  2  3  1  4  5  4      2
3  3  7  2  6  4  1  3      1
4  4  4  6  4  5  3  6      3
5  5  1  3  2  2  6  4      2
6  6  6  4  6  3  3  4      1</code></pre>
<p>See if you can reproduce this output in the radiant web-interface. Start radiant using <code>radiant()</code>. Apart from the graphical user interface you can also run code inside the Radiant app in the R &gt; Code tab. See <a href="/radiant/base/code.html">Code</a> page for details.</p>


&copy; Vincent Nijs (2016) <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank"><img alt="Creative Commons License" style="border-width:0" src="/radiant/images/80x15.png" /></a>

<!-- some extra javascript for older browsers -->
<script type="text/javascript" src="libs/polyfill.js"></script>

<!-- mathjax -->
<!-- <script type='text/javascript' src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script> -->

<script>

  // manage active state of menu based on current page
  $(document).ready(function () {

      // active menu
      href = window.location.pathname
      href = href.substr(href.lastIndexOf('/') + 1)
      $('a[href="' + href + '"]').parent().addClass('active');

      // manage active menu header
      if (href.startsWith('authoring_'))
        $('a[href="' + 'authoring' + '"]').parent().addClass('active');
      else if (href.endsWith('_format.html'))
        $('a[href="' + 'formats' + '"]').parent().addClass('active');
      else if (href.startsWith('developer_'))
        $('a[href="' + 'developer' + '"]').parent().addClass('active');

  });

  // Google analytics
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61296577-1', 'auto');
  ga('send', 'pageview');

</script>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
